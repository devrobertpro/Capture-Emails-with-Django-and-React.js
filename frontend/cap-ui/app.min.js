'use strict';const e=React.createElement,useState=React.useState,CaptureEmailUI=()=>{const[a,b]=useState(""),[c,d]=useState("");return React.createElement("form",{onSubmit:c=>{if(c.preventDefault(),""===a||void 0===a||null===a)return void d("Value is required");// send to backend!
const e=JSON.stringify({data:a}),f=new XMLHttpRequest;f.open("POST",`${"http://127.0.0.1:8000"}/api/capture/email/`,!0),f.setRequestHeader("Content-Type","application/json"),f.onload=()=>{console.log(f.responseText),201===f.status?(alert("Success!"),b(""),d("")):alert("Error")},f.send(e)}},React.createElement("input",{value:a,onChange:a=>{b(a.target.value),d("")},type:"email",placeholder:"your email",required:!0}),c&&React.createElement("p",null,c),React.createElement("button",{type:"submit"},"Save Email"))};// Find all DOM containers, and render our component into them.
var containers=document.querySelectorAll(".cap-ui");containers.forEach(a=>{// Read the user ID from a data-* attribute.
const b=a.dataset.userid;// render the component into the DOM
ReactDOM.render(e(CaptureEmailUI,{userid:b}),a)});
